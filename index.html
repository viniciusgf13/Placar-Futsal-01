<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âš½ Futsal Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/fifa-card.css">
</head>
<body class="min-h-screen">
    <div class="container mx-auto p-4 max-w-7xl">
        <!-- Header com botÃ£o de tema -->
        <div class="flex justify-between items-center mb-6">
            <div class="flex-1 text-center">
                <img src="https://i.imgur.com/7EHC1xB.png" alt="Futsal Manager" class="h-32 sm:h-40 md:h-52 mx-auto">
            </div>
            <button class="btn-theme ml-2" onclick="toggleTheme()">
                <span id="themeIcon">ğŸŒ™</span>
            </button>
        </div>

        <div class="card mb-4">
            <div class="flex overflow-x-auto" id="tabs">
                <div class="tab active" onclick="showTab('partida', event)">ğŸ† Partida</div>
                <div class="tab" onclick="showTab('sorteador', event)">ğŸ² Sorteador</div>
                <div class="tab" onclick="showTab('times', event)">ğŸ‘¥ Times</div>
                <div class="tab" onclick="showTab('ranking', event)">ğŸ“Š Rankings</div>
                <div class="tab" onclick="showTab('historico', event)">ğŸ“œ HistÃ³rico</div>
            </div>
        </div>

        <div id="tab-partida" class="tab-content">
            <div class="card p-5 mb-4">
                <h2 class="text-lg font-bold mb-4 flex items-center gap-2">
                    âš™ï¸ Configurar Partida
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="config-label">
                            ğŸ  Time da Casa
                        </label>
                        <select id="selectHome" class="config-select w-full">
                            <option value="">Selecione o time...</option>
                        </select>
                    </div>
                    <div>
                        <label class="config-label">
                            âœˆï¸ Time Visitante
                        </label>
                        <select id="selectAway" class="config-select w-full">
                            <option value="">Selecione o time...</option>
                        </select>
                    </div>
                </div>
                
                <div class="flex gap-2 flex-wrap justify-center">
                    <button class="timer-btn timer-btn-start" onclick="startMatch()">
                        <span>â–¶</span> Iniciar
                    </button>
                    <button class="timer-btn timer-btn-pause" onclick="pauseMatch()">
                        <span>â¸</span> Pausar
                    </button>
                    <button class="timer-btn timer-btn-resume" onclick="resumeMatch()">
                        <span>â–¶</span> Retomar
                    </button>
                    <button class="timer-btn timer-btn-reset" onclick="resetTimer()">
                        <span>ğŸ”„</span> Reset
                    </button>
                </div>
            </div>

            <div class="scoreboard mb-4" id="scoreboard">
                <div class="text-center mb-4">
                    <div class="text-6xl font-bold mb-2">
                        <span id="scoreHome">0</span> - <span id="scoreAway">0</span>
                    </div>
                    <div class="text-2xl font-semibold mb-1">
                        â±ï¸ <span id="timerDisplay">10:00</span>
                    </div>
                    <div class="text-sm opacity-80" id="matchStatus">Aguardando inÃ­cio</div>
                </div>
                <div class="grid grid-cols-2 gap-4 text-center">
                    <div>
                        <div class="text-sm opacity-80">Casa</div>
                        <div class="text-xl font-bold" id="homeTeamName">-</div>
                    </div>
                    <div>
                        <div class="text-sm opacity-80">Visitante</div>
                        <div class="text-xl font-bold" id="awayTeamName">-</div>
                    </div>
                </div>
            </div>

            <div class="card p-4 mb-4">
                <h3 class="font-bold text-center mb-4 text-lg">âš½ Registrar Gol</h3>
                
                <div class="grid grid-cols-2 gap-2 mb-4">
                    <button id="btnSelectHome" class="goal-team-btn border-4 border-green-600 bg-green-50 p-4 rounded-lg font-bold transition-all" onclick="selectGoalTeam('home')">
                        ğŸ <br><span class="text-sm" id="goalBtnHomeName">Casa</span>
                    </button>
                    <button id="btnSelectAway" class="goal-team-btn border-2 border-gray-300 bg-white p-4 rounded-lg font-bold transition-all" onclick="selectGoalTeam('away')">
                        âœˆï¸<br><span class="text-sm" id="goalBtnAwayName">Visitante</span>
                    </button>
                </div>
                
                <div id="goalPlayersList" class="space-y-2 mb-3">
                    <p class="text-gray-400 text-sm text-center">Selecione o time acima</p>
                </div>
                
                <div id="assistSection" class="hidden mb-3">
                    <label class="block text-sm font-semibold mb-2 text-center">ğŸ¯ AssistÃªncia (opcional)</label>
                    <div id="assistPlayersList" class="space-y-2"></div>
                </div>
                
                <button id="btnConfirmGoal" class="btn-primary w-full text-lg py-3 hidden" onclick="confirmGoal()">
                    âš½ CONFIRMAR GOL!
                </button>
            </div>

            <div class="card p-4 mb-4">
                <h3 class="font-bold mb-3">ğŸ“‹ Eventos da Partida</h3>
                <div id="eventsList" class="space-y-2 max-h-60 overflow-y-auto" style="padding: 12px; border-radius: 8px;">
                    <p class="text-gray-500 text-sm">Nenhum evento registrado</p>
                </div>
            </div>

            <div class="card p-4 mb-4">
                <h3 class="font-bold mb-3">âš™ï¸ Controles RÃ¡pidos</h3>
                <div class="flex gap-2 mb-3">
                    <button class="btn-secondary flex-1" onclick="adjustTime(-60)">-1 min</button>
                    <button class="btn-secondary flex-1" onclick="adjustTime(60)">+1 min</button>
                    <button class="btn-secondary flex-1" onclick="endTime()">â±ï¸ Fim</button>
                </div>
                <button class="btn-danger w-full" onclick="endMatch()">ğŸ Terminar Partida</button>
            </div>
        </div>

        
        <div id="tab-sorteador" class="tab-content hidden">
            <div class="card p-4 mb-4">
                <h2 class="text-lg font-bold mb-4">ğŸ² Sorteador de Times</h2>
                <p class="text-sm mb-3">Cole os nomes (um por linha) ou separe por vÃ­rgula. MÃ¡ximo por time: <strong>5</strong> jogadores.</p>
                <textarea id="sorteadorInput" class="input-field mb-3" rows="6" placeholder="Ex: JoÃ£o&#10;Maria&#10;Carlos"></textarea>
                <div class="flex gap-2 mb-3">
                    <button class="btn-primary" onclick="sortearTimes()">ğŸ¯ Sortear Times</button>
                    <button class="btn-secondary" onclick="clearSorteador()">ğŸ§¹ Limpar</button>
                </div>
                <div id="sorteadorResult" class="space-y-3"></div>
                <div class="text-xs mt-3 text-gray-500">Ao sortear, TODOS os times existentes serÃ£o substituÃ­dos pelos times sorteados (OpÃ§Ã£o A).</div>
            </div>
        </div>
<div id="tab-times" class="tab-content hidden">
            <div class="card p-4 mb-4">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-lg font-bold">ğŸ‘¥ Times (<span id="teamCount">0</span>/5)</h2>
                    <button class="btn-primary" onclick="addTeam()">â• Novo Time</button>
                </div>
                <div id="teamsList" class="space-y-4"></div>
            </div>
        </div>

        <div id="tab-ranking" class="tab-content hidden">
            <div class="card p-4 mb-4">
                <h2 class="ranking-header">ğŸ† Artilheiros</h2>
                <div id="artilheirosList" class="space-y-2"></div>
            </div>
            <div class="card p-4 mb-4">
                <h2 class="ranking-header">ğŸ§¤ Melhores Goleiros</h2>
                <div id="goleirosList" class="space-y-2 mb-4"></div>
                <div class="space-y-2">
                    <h3 class="font-bold text-base mb-3">ğŸ… VotaÃ§Ã£o - Melhor Defesa</h3>
                    <select id="selectBestDefense" class="w-full mb-2">
                        <option value="">Selecione o goleiro com melhor defesa</option>
                    </select>
                    <button class="btn-primary w-full" onclick="voteBestDefense()">ğŸ† Registrar Voto</button>
                    <div id="bestDefenseResult" class="mt-3 p-3 rounded" style="background: var(--bg-secondary); display: none;">
                        <p class="font-bold">ğŸ† Melhor Defesa:</p>
                        <p id="bestDefenseText"></p>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-historico" class="tab-content hidden">
            <div class="card p-4 mb-4">
                <div class="flex gap-2 mb-4 flex-wrap">
                    <button class="btn-secondary" onclick="exportHistory()">ğŸ“¤ Exportar (Historico)</button>
                    <button class="btn-danger" onclick="clearHistory()">ğŸ—‘ï¸ Limpar</button>
                </div>
                <div id="historyList" class="space-y-3"></div>
            </div>
        </div>
    </div>

    <div class="fifa-card icon-card fifa-card-hidden" id="playerCard">
        <div class="card-header">
            <span class="card-rating" id="cardRating">96</span>
            <span class="card-pos" id="cardPos">AT</span>
        </div>
        <div class="card-image">
            <img id="cardImage" src="" alt="Melhor Jogador">
        </div>
        <div class="card-info">
            <span class="card-nation" id="cardNation"></span>
            <span class="card-club" id="cardClub"></span>
            <h2 class="card-name" id="cardName"></h2>
        </div>
        <div class="card-stats">
            <div class="stat-item"><span class="stat-value" data-stat="rit"></span> <span class="stat-label">Rit.</span></div>
            <div class="stat-item"><span class="stat-value" data-stat="fin"></span> <span class="stat-label">Fin.</span></div>
            <div class="stat-item"><span class="stat-value" data-stat="pas"></span> <span class="stat-label">Pas.</span></div>
            <div class="stat-item"><span class="stat-value" data-stat="drib"></span> <span class="stat-label">Drib.</span></div>
            <div class="stat-item"><span class="stat-value" data-stat="def"></span> <span class="stat-label">Def.</span></div>
            <div class="stat-item"><span class="stat-value" data-stat="fis"></span> <span class="stat-label">FÃ­s.</span></div>
        </div>
    </div>
    
    <button id="updateButton" onclick="updatePlayerCard(falcao)">Testar FalcÃ£o</button>
    <button id="updateButton2" onclick="updatePlayerCard(ferrao)">Testar FerrÃ£o</button>


    <script src="assets/js/app.js"></script>
    <script src="assets/js/fifa-card.js"></script>
</body>
</html>
